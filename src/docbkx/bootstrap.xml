<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN" "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<!--
    Copyright 2010 The myBatis Team

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

<!--
    version: $Id$
-->
<chapter id="bootstrap">
    <title>Bootstrap</title>

    <section id="bootstrap.intro">
        <title>Introduction</title>
        <para>
            MyBatis-Spring integration helps you to integrate your code seamlessly with Spring. Spring will load and
            create necessary MyBatis classes for you. It will also inject working Mappers/Daos directly on your service
            beans.
        </para>
    </section>

    <section id="bootstrap.setup">
        <title>Setting up a SqlSessionFactory</title>
        <para>
            As you already know, to use MyBatis you need to build a <literal>SqlSessionFactory</literal> from XML files.
            MyBatis-Spring will build a SqlSessionFactory for you during Spring startup.

            The XML snippet below shows the configuration needed to build a <literal>SqlSessionFactoryBean</literal>:

            <programlisting language="xml"><![CDATA[<bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">
    <property name="dataSource" ref="dataSource" />
    <property name="configLocation" value="classpath:sample/mybatis-config.xml" />
</bean>]]></programlisting>

            Where <literal>mybatis-config.xml</literal> is the main configuration file for MyBatis.
            Follows below a <literal>mybatis-config.xml</literal> sample, but please refeer to the MyBatis reference
            manual to know more details about it:

            <programlisting language="xml"><![CDATA[<configuration>

    <settings>
        <setting name="cacheEnabled" value="false" />
        <setting name="useGeneratedKeys" value="true" />
        <setting name="defaultExecutorType" value="REUSE" />
    </settings>

    <mappers>
        <mapper resource="sample/UserMapper.xml" />
    </mappers>

</configuration>]]></programlisting>
        </para>

        Usually the main config file holds general configuration options and the mappers list. The mappers list is
        optional if you are using injected mappers.
    </section>

</chapter>
